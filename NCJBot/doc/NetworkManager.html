<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_10) on Thu Oct 03 00:30:33 EDT 2013 -->
<title>NetworkManager</title>
<meta name="date" content="2013-10-03">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="NetworkManager";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/NetworkManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-files/index-1.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="ProcessorJob.html" title="class in &lt;Unnamed&gt;"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="index.html?NetworkManager.html" target="_top">Frames</a></li>
<li><a href="NetworkManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h2 title="Class NetworkManager" class="title">Class NetworkManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.lang.Thread</li>
<li>
<ul class="inheritance">
<li>NetworkManager</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">NetworkManager</span>
extends java.lang.Thread</pre>
<div class="block"><p>This class keeps track of other nodes within the network. The nodes within a network only know of each
 others status through direct communication. Network updates are not currently relayed to other nodes; rather a node
 figures out the status of a remote node when it needs something from that remote node. The network manager maintains a timer
 to rebroadcast its presence to the rest of the network. This allows the network to recover this node
 in the event a connection error resulted in this node being removed from the active list of other nodes.
 Currently, this timer is set to announce the presence of the node once per hour (non-configurable).</p>
 <br>
 
 <b>NOTE: THIS NEXT SECTION HAS NOT YET BEEN IMPLEMENTED / MAY NOT BE IMPLEMENTED AS DESCRIBED</b>
 <p>The NetworkManager allows for two modes of operation: "Full" and "Gossip".</p>
 
 <p>In full mode, this node will establish its presence with ALL other nodes. All network change messages will be broadcast
 to the entire network. Each node running under full mode that receives a change message will either repeat the message to
 the rest of the network, or discard the message if it is already aware of the change (preventing a flood).
 This mode of operation is intended for smaller networks, as it can create a great deal of traffic. The primary
 objective of this mode is to create a minimal delay between the time a network change occurs and the time
 the entire network compensates for the event. This mode may not be implemented.</p>
 
 <p>Under gossip mode, the initial presence announcement will only be made to a random subset of nodes, the number of which is configurable (or may be fixed at 2).
 Message broadcasts will then be relayed to a random subset of nodes within the network, the size of which is configurable (or may be fixed at 2).
 Each receiving node running in gossip mode will then relay the message to another random subset of the network,
 or discard the message if it is already aware of the event. A more structured implementation may be used to form links between the
 nodes that are always used rather than select a new random subset on each relay, creating a more consistent network structure.
 A variation of this mode will likely be implemented.</p>
 
 
 <p>Under either mode, messages are relayed at a configurable rate. Propagation may either stop after a TTL expiration or utilize an event resolution technique that may work as follows:
 <ul>
        <li>If a node receives information on a node and has never received the type of data before, assume it's correct and propagate.</li>
        <li>If a node receives information on a node and has identical information, assume it's correct and ignore.</li>
        <li>If a node receives information on a node and the information conflicts with current information and the new information has a later timestamp, assume it's correct and propagate.</li>
        <li>If a node receives information on a node and the information conflicts with current information and the new information has an earlier timestamp, assume it's incorrect and propagate the correct information only to the node that sent the incorrect information.</li> 
 </ul>
 A method for synchronization still needs to be developed.</p></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Carter Waxman</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_java.lang.Thread">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;java.lang.Thread</h3>
<code>java.lang.Thread.State, java.lang.Thread.UncaughtExceptionHandler</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.ArrayList&lt;<a href="RemoteNode.html" title="class in &lt;Unnamed&gt;">RemoteNode</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="NetworkManager.html#activeNodes">activeNodes</a></strong></code>
<div class="block">The list of all nodes known to be active on the network.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.ArrayList&lt;<a href="RemoteNode.html" title="class in &lt;Unnamed&gt;">RemoteNode</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="NetworkManager.html#addedNodes">addedNodes</a></strong></code>
<div class="block">Node that have been discovered and who's discovery needs to be relayed to other nodes.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_java.lang.Thread">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;java.lang.Thread</h3>
<code>MAX_PRIORITY, MIN_PRIORITY, NORM_PRIORITY</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="NetworkManager.html#NetworkManager(java.util.ArrayList)">NetworkManager</a></strong>(java.util.ArrayList&lt;<a href="RemoteNode.html" title="class in &lt;Unnamed&gt;">RemoteNode</a>&gt;&nbsp;seedNodes)</code>
<div class="block">Initializes the NetworkManager with the given seed nodes.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="NetworkManager.html#addDiscoveredNode(RemoteNode)">addDiscoveredNode</a></strong>(<a href="RemoteNode.html" title="class in &lt;Unnamed&gt;">RemoteNode</a>&nbsp;rn)</code>
<div class="block">Directly adds a new node to the active node list.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="RemoteNode.html" title="class in &lt;Unnamed&gt;">RemoteNode</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="NetworkManager.html#getActiveNodes()">getActiveNodes</a></strong>()</code>
<div class="block">Retrieves a copy of the known active nodes for the network.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="RemoteNode.html" title="class in &lt;Unnamed&gt;">RemoteNode</a></code></td>
<td class="colLast"><code><strong><a href="NetworkManager.html#getReplacement(RemoteNode)">getReplacement</a></strong>(<a href="RemoteNode.html" title="class in &lt;Unnamed&gt;">RemoteNode</a>&nbsp;r)</code>
<div class="block">Finds a replacement node for the node given.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="NetworkManager.html#run()">run</a></strong>()</code>
<div class="block">This method runs an hourly beacon for alerting nodes in the network of this node's presence.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Thread">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Thread</h3>
<code>activeCount, checkAccess, clone, countStackFrames, currentThread, destroy, dumpStack, enumerate, getAllStackTraces, getContextClassLoader, getDefaultUncaughtExceptionHandler, getId, getName, getPriority, getStackTrace, getState, getThreadGroup, getUncaughtExceptionHandler, holdsLock, interrupt, interrupted, isAlive, isDaemon, isInterrupted, join, join, join, resume, setContextClassLoader, setDaemon, setDefaultUncaughtExceptionHandler, setName, setPriority, setUncaughtExceptionHandler, sleep, sleep, start, stop, stop, suspend, toString, yield</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="activeNodes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activeNodes</h4>
<pre>private&nbsp;java.util.ArrayList&lt;<a href="RemoteNode.html" title="class in &lt;Unnamed&gt;">RemoteNode</a>&gt; activeNodes</pre>
<div class="block"><p>The list of all nodes known to be active on the network.</p></div>
</li>
</ul>
<a name="addedNodes">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>addedNodes</h4>
<pre>private&nbsp;java.util.ArrayList&lt;<a href="RemoteNode.html" title="class in &lt;Unnamed&gt;">RemoteNode</a>&gt; addedNodes</pre>
<div class="block"><p>Node that have been discovered and who's discovery needs to be relayed to other nodes.</p></div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="NetworkManager(java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NetworkManager</h4>
<pre>public&nbsp;NetworkManager(java.util.ArrayList&lt;<a href="RemoteNode.html" title="class in &lt;Unnamed&gt;">RemoteNode</a>&gt;&nbsp;seedNodes)</pre>
<div class="block"><p>Initializes the NetworkManager with the given seed nodes. Each of the seed nodes will be contacted and queried for a
 list of known nodes. The results of the queries will be combined into the active node list, including those
 seeds that responded.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>seedNodes</code> - The initial list of nodes to query. These should be considered the entry points for the network.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="run()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block"><p>This method runs an hourly beacon for alerting nodes in the network of this node's presence. </p>
 <b>THIS IMPLEMENTATION WILL BE REPLACED WITH A CALLBACK-BASED CENTRALIZED TIMING THREAD.</b></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code>run</code>&nbsp;in class&nbsp;<code>java.lang.Thread</code></dd>
</dl>
</li>
</ul>
<a name="getActiveNodes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getActiveNodes</h4>
<pre>public&nbsp;java.util.List&lt;<a href="RemoteNode.html" title="class in &lt;Unnamed&gt;">RemoteNode</a>&gt;&nbsp;getActiveNodes()</pre>
<div class="block"><p>Retrieves a copy of the known active nodes for the network.</p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The known active nodes for the network.</dd></dl>
</li>
</ul>
<a name="addDiscoveredNode(RemoteNode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addDiscoveredNode</h4>
<pre>public&nbsp;boolean&nbsp;addDiscoveredNode(<a href="RemoteNode.html" title="class in &lt;Unnamed&gt;">RemoteNode</a>&nbsp;rn)</pre>
<div class="block"><p>Directly adds a new node to the active node list. If the node was not previously known,
 its presence will be announced to all running jobs and services of this node.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rn</code> - the node to add</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if the node was an addition to the list, false if the node was already known.</dd></dl>
</li>
</ul>
<a name="getReplacement(RemoteNode)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getReplacement</h4>
<pre>public&nbsp;<a href="RemoteNode.html" title="class in &lt;Unnamed&gt;">RemoteNode</a>&nbsp;getReplacement(<a href="RemoteNode.html" title="class in &lt;Unnamed&gt;">RemoteNode</a>&nbsp;r)</pre>
<div class="block"><p>Finds a replacement node for the node given. In the event the given node cannot be reached, it will be
 removed from the active node list. Otherwise, a node (possibly the one provided) will be randomly selected and returned.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>r</code> - The node to replace.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A randomly selected node from the active node list.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/NetworkManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-files/index-1.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="ProcessorJob.html" title="class in &lt;Unnamed&gt;"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="index.html?NetworkManager.html" target="_top">Frames</a></li>
<li><a href="NetworkManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
